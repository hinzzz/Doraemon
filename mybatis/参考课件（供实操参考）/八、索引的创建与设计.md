# 八、索引的创建与设计

## 1、索引的声明与使用

### 1.1 索引的分类

MySQL的索引包括普通索引、唯一性索引、全文索引、单列索引、多列索引和空间索引等。 

+ 从==功能逻辑==上说，索引主要有 4 种，分别是普通索引、唯一索引、主键索引、全文索引。 
+ 按照==物理实现==方式 ，索引可以分为 2 种：聚簇索引和非聚簇索引。 
+ 按照==作用字段个数==进行划分，分成单列索引和联合索引。

1. 普通索引 

   在创建普通索引时，不附加任何限制条件，只是用于提高查询效率。这类索引可以创建在==任何数据类型==中，其值是否唯一和非空,要由字段本身的完整性约束条件决定。建立索引以后，可以通过索引进行查询。

   例如，在表student的字段name.上建立一个普通索引，查询记录时就可以根据该索引进行查询。

2. 唯一性索引 

   使用==UNIQUE==参数可以设置索引为唯一性引，在创建唯一性索引时，限制该索引的值==必须是唯一的，但允许有空值==。在一张数据表里可以有==多个==唯一索引.

3.  主键索引 

   主键索引就是一种==特殊的唯一性索引== ,在唯一索引的基础上增加了不为空的约束,也就是==NOT NULL+UNIQUE==, 一张表里最多只有一个主键索引。
   ==Why?==这是由主键索引的物理实现方式决定的， 因为数据存储在文件中只能按照一种顺序进行存储。主键还可以当做其他表的外键，索引不允许为空

4. 单列索引 

   在表中的单个字段上创建索引。单列索引只根据该字段进行索引。单列索引可以是普通引，也可以是唯一性索引，还可以是全文索引。只要保证该索引只对应一个字段即可。一个表可以有==多个==单列索引。

5. 多列(组合、联合)索引 

   多列索引是在表的==多个字段组合==，上创建一个索引。该索引指向创建时对应的多个字段，可以通过这几个字段进行查询,但是只有查询条件中使用了这些字段中的第一个字段时才会被使用。例如，在表中的字段id、name和gender.上建立一个多列索引==idx_ id_ name_ gender== ,只有在查询条件中使用了字段id时该索引才会被使用。使用组合索引时遵循==最左前缀集合==。

6. 全文索引 

   全文索引(也称全文检索)是目前==搜索引擎==使用的一种关键技术。它能够利用[==分词技术==]等多种算法智能分析出文本文字中关键词的频率和重要性，然后按照-定的算法规则智能地筛选出我们想要的搜索结果。全文索引非常适合大型数据集，对于小的数据集，它的用处比较小。（略）

7. 补充：空间索引

   （略）

==小结：不同的存储引擎支持的索引类型也不一样==InnoDB ：支持 B-tree、Full-text 等索引，不支持 Hash 索引； MyISAM ： 支持B-tree、Full-text 等索引，不支持 Hash 索引； Memory ：支持 B-tree、Hash 等 索引，不支持 Full-text 索引； NDB ：支持 Hash 索引，不支持 B-tree、Full-text 等索引； Archive ：不支 持 B-tree、Hash、Full-text 等索引；

### 1.2 创建索引





